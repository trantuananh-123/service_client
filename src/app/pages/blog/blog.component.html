<!--section-heading-->
<div class="section-heading" style="background-image: url('assets/img/other/bg-cat-1.jpg')">
    <div class="container-fluid">
        <div class="section-heading-5">
            <div class="row">
                <div class="col-lg-10">
                    <div class="section-heading-5-title">
                        <h1>Find your favourite blog</h1>
                        <p class="links"><a routerLink="/">Home <i class="las la-angle-right"></i></a> Blog</p>
                        <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Quasi mollitia, adipisci odio iusto
                            aperiam ea et
                            obcaecati! Nulla similique est possimus rerum. Tempora quas sint ex, doloremque quis
                            aspernatur quaerat.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!--search-field-->
<div>
    <div class="container-fluid">
        <div class="section-heading-5">
            <div class="row">
                <div class="col-lg-12">
                    <div class="section-heading-5-title">
                        <mat-accordion>
                            <mat-expansion-panel>
                                <mat-expansion-panel-header>
                                    <mat-panel-title>
                                        Search
                                    </mat-panel-title>
                                </mat-expansion-panel-header>
                                <form [formGroup]="searchForm" action="#" class="sign-form widget-form " method="post">
                                    <div class="row">
                                        <div class="col-lg-6 col-md-6">
                                            <div class="form-group">
                                                <label for="title" style="font-weight: bold;">Author's name</label>
                                                <input formControlName="authorName" type="text" maxlength="1000"
                                                    class="form-control" name="author"
                                                    placeholder="Enter author's name">
                                            </div>
                                        </div>
                                        <div class="col-lg-6 col-md-6">
                                            <div class="form-group">
                                                <label for="category" style="font-weight: bold;">Post's category</label>
                                                <ng-select formControlName="categoryId" placeholder="Select category"
                                                    [appendTo]="'body'">
                                                    <ng-option *ngFor="let cat of categoryList" [value]="cat.id">{{
                                                        cat.name
                                                        }}
                                                    </ng-option>
                                                </ng-select>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="row">
                                        <div class="col-lg-6 col-md-6">
                                            <div class="form-group">
                                                <label for="tag" style="font-weight: bold;">Post's tags</label>
                                                <ng-select #ngSelect formControlName="tags" placeholder="Select tags"
                                                    [multiple]="true" [maxSelectedItems]="5" [appendTo]="'body'">
                                                    <ng-option *ngFor="let tag of tagList" [value]="tag.id">{{ tag.name
                                                        }}
                                                    </ng-option>
                                                </ng-select>
                                            </div>
                                        </div>
                                        <div class="col-lg-6 col-md-6">
                                            <div class="row">
                                                <div class="col-lg-6 col-md-6">
                                                    <div class="form-group">
                                                        <label for="tag" style="font-weight: bold;">From date</label>
                                                        <mat-form-field appearance="fill" style="display: block;">
                                                            <mat-label>Choose a date</mat-label>
                                                            <input matInput [matDatepicker]="picker1"
                                                                formControlName="startDate">
                                                            <mat-hint>MM/DD/YYYY</mat-hint>
                                                            <mat-datepicker-toggle matSuffix [for]="picker1">
                                                            </mat-datepicker-toggle>
                                                            <mat-datepicker #picker1></mat-datepicker>
                                                        </mat-form-field>
                                                        <div
                                                            *ngIf="(form.startDate.touched || form.startDate.dirty || isSubmitted)">
                                                            <mat-error class="custom__mat-error text-left"
                                                                *ngIf="searchForm.hasError('fromToDate')">
                                                                Start date must not bigger than End date</mat-error>
                                                            <mat-error class="custom__mat-error text-left"
                                                                *ngIf="searchForm.hasError('startDate')">
                                                                Start date not bigger than Current date</mat-error>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="col-lg-6 col-md-6">
                                                    <div class="form-group">
                                                        <label for="tag" style="font-weight: bold;">End date</label>
                                                        <mat-form-field appearance="fill" style="display: block;">
                                                            <mat-label>Choose a date</mat-label>
                                                            <input matInput [matDatepicker]="picker2"
                                                                formControlName="endDate">
                                                            <mat-hint>MM/DD/YYYY</mat-hint>
                                                            <mat-datepicker-toggle matSuffix [for]="picker2">
                                                            </mat-datepicker-toggle>
                                                            <mat-datepicker #picker2></mat-datepicker>
                                                        </mat-form-field>
                                                        <div
                                                            *ngIf="(form.endDate.touched || form.endDate.dirty || isSubmitted)">
                                                            <mat-error class="custom__mat-error text-left"
                                                                *ngIf="searchForm.hasError('fromToDate')">
                                                                End date must not smaller than Start date</mat-error>
                                                            <mat-error class="custom__mat-error text-left"
                                                                *ngIf="searchForm.hasError('endDate')">
                                                                End date not bigger than Current date</mat-error>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-group mt-3 text-right">
                                        <button type="submit" class="btn-custom" (click)="search()">Search</button>
                                    </div>
                                </form>
                            </mat-expansion-panel>
                        </mat-accordion>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<hr>


<!-- blog-layout-5-->
<section class="blog-layout-5">
    <div class="container-fluid">
        <h1 style="font-size: 32px; font-weight: bold">Post list({{ postList.length }})</h1>
        <div class="row">
            <!--conetnt-->
            <div class="col-lg-8 oredoo-content">
                <div class="theiaStickySidebar">
                    <!--post 1-->
                    <div class="post-list post-list-style5 pt-0"
                        *ngFor="let p of postList | paginate: { itemsPerPage: 10, currentPage: page}">
                        <div class="post-list-content">
                            <h4 class="entry-title">
                                <a [routerLink]="['/blog-detail', p.id]">{{ p.title }} </a>
                            </h4>
                            <ul class="entry-meta">
                                <li class="post-author-img"><img src="{{ p.image }}" alt=""></li>
                                <li class="post-author"> <a [routerLink]="['/blog-detail', p.id]">{{ p.authorName }}</a>
                                </li>
                                <li class="entry-cat" *ngFor="let cat of categoryList"><a
                                        [routerLink]="['/blog-detail', p.id]" class="category-style-1"
                                        *ngIf="p.categoryId == cat.id"> <span class="line"></span>{{ cat.name }}</a>
                                </li>
                                <li class="post-date"> <span class="line"></span> {{ p.createdDate | date:'dd-MM-yyyy'
                                    }}
                                </li>
                            </ul>
                            <div class="post-exerpt" [routerLink]="['/blog-detail', p.id]" style="cursor: pointer">
                                <p>{{ p.description }}</p>
                            </div>
                        </div>
                    </div>

                    <pagination-controls class="text-center" [maxSize]="5" [autoHide]="true" [responsive]="true"
                        previousLabel="&lsaquo;" nextLabel="&rsaquo;" (pageChange)="page = $event; scrollTop()">
                    </pagination-controls>
                </div>
            </div>
        </div>
    </div>
</section>